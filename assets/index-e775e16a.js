import{M as i,N as p,O as I,P as _,L as S,Q as m,R as v,H as P,F as E,J as x,p as A,g as O,S as L,U as g,V as D,W as R,r as B,X as y,Y as $,T as M,i as V,Z as C}from"./@vue-6c443430.js";import{c as q}from"./pinia-eed1f81b.js";import{R as T,c as H,a as F}from"./vue-router-d478903e.js";import{l as G}from"./lodash-57b79b46.js";import{d as U,c as j,N as W,a as J,b as K,e as Q,f as X,g as Y,h as Z,i as z,j as ee,k as te,l as se,m as ne,n as oe,o as ae,p as re,q as ce}from"./naive-ui-433eb430.js";import"./@babel-725317a4.js";import"./seemly-2e71c052.js";import"./evtd-b614532e.js";import"./vooks-bac0419b.js";import"./vdirs-b0483831.js";import"./vueuc-c596a2d4.js";import"./@css-render-8efa2268.js";import"./@juggle-41516555.js";import"./css-render-d3958e6a.js";import"./@emotion-8a8e73f6.js";import"./lodash-es-d880f9ca.js";import"./treemate-25c27bff.js";import"./date-fns-975a2d8f.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const e of s)if(e.type==="childList")for(const r of e.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function o(s){const e={};return s.integrity&&(e.integrity=s.integrity),s.referrerPolicy&&(e.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?e.credentials="include":s.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function a(s){if(s.ep)return;s.ep=!0;const e=o(s);fetch(s.href,e)}})();const k=(n,t)=>{const o=n.__vccOpts||n;for(const[a,s]of t)o[a]=s;return o},ie={name:"AppHeader"},le={class:"app-header"},de=I('<div class="header-wrapper" data-v-8df9455c><nav class="app-navi" data-v-8df9455c><div class="app-title" data-v-8df9455c> Eldan Mir </div><div class="app-pages" data-v-8df9455c></div><div class="app-settings" data-v-8df9455c> Settings </div></nav></div>',1),_e=[de];function pe(n,t,o,a,s,e){return i(),p("header",le,_e)}const ue=k(ie,[["render",pe],["__scopeId","data-v-8df9455c"]]);const me={},fe={class:"app-main"},ve={class:"main-warp"};function he(n,t){return i(),p("main",fe,[_("div",ve,[S(n.$slots,"default",{},void 0,!0)])])}const ge=k(me,[["render",he],["__scopeId","data-v-744c6ddc"]]),ye={__name:"AppView",setup(n){return(t,o)=>(i(),p(E,null,[m(ue),m(ge,null,{default:v(()=>[m(P(T))]),_:1})],64))}},Ne="modulepreload",we=function(n){return"/"+n},b={},N=function(t,o,a){if(!o||o.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(o.map(e=>{if(e=we(e),e in b)return;b[e]=!0;const r=e.endsWith(".css"),u=r?'[rel="stylesheet"]':"";if(!!a)for(let l=s.length-1;l>=0;l--){const f=s[l];if(f.href===e&&(!r||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${e}"]${u}`))return;const c=document.createElement("link");if(c.rel=r?"stylesheet":Ne,r||(c.as="script",c.crossOrigin=""),c.href=e,document.head.appendChild(c),r)return new Promise((l,f)=>{c.addEventListener("load",l),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${e}`)))})})).then(()=>t()).catch(e=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=e,window.dispatchEvent(r),!r.defaultPrevented)throw e})},ke=(n,t)=>{const o=n[t];return o?typeof o=="function"?o():Promise.resolve(o):new Promise((a,s)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+t)))})},w=async n=>(await ke(Object.assign({"../GameData/Items.yaml":()=>N(()=>import("./Items-82e3eb48.js"),[]),"../GameData/Monsters.yaml":()=>N(()=>import("./Monsters-0cea1b44.js"),[]),"../GameData/Skills.yaml":()=>N(()=>import("./Skills-a3cfe184.js"),[])}),`../GameData/${n}.yaml`)).default,xe=800,$e={__name:"GameProvider",emits:["loading"],setup(n,{emit:t}){const o=[{name:"物品",key:"items",req:w("Items")},{name:"技能",key:"skills",req:w("Skills")},{name:"怪物",key:"monsters",req:w("Monsters")}],a=x({show:!0,name:"-/-",index:0,total:o.length});t("loading",a);const s=x({items:null,monsters:null,skills:null}),e=()=>{a.show=!(a.index>=a.total)},r=(u,d,c,l)=>{G.delay(()=>{s[c]=u,a.name=d,a.index++,e(),t("loading",a)},l)};return o.reduce((u,d,c)=>{d.req.then(l=>{r(l,d.name,d.key,xe*(c+1))})},[]),A("DB",s),(u,d)=>S(u.$slots,"default")}};const be=n=>(D("data-v-e73c30ab"),n=n(),R(),n),Se={class:"loading-warp"},Pe={class:"loading-content"},Ee={class:"bar"},Le=be(()=>_("span",{class:"title"},"Loading...",-1)),Ie={class:"sub-title"},Ae={class:"res-count res"},Oe={class:"res-name res"},De={key:1,class:"res-name res"},Re={__name:"LoadingScreen",props:{index:{type:Number,default:0},total:{type:Number,default:1},name:{type:String,default:"-/-"}},setup(n){const t=n,o=O(()=>t.index/Math.max(t.total,1)*100);return(a,s)=>{const e=L("n-progress");return i(),p("div",Se,[_("div",Pe,[_("div",Ee,[Le,m(e,{type:"line",percentage:o.value,height:32,"border-radius":50,"fill-border-radius":0,"indicator-text-color":"#fff"},null,8,["percentage"]),_("div",Ie,[n.name!=="-/-"?(i(),p(E,{key:0},[_("span",Ae,"("+g(n.index)+"/"+g(n.total)+")",1),_("span",Oe,"正在加载"+g(n.name)+"数据...",1)],64)):(i(),p("span",De,"正在准备数据..."))])])])])}}},Be=k(Re,[["__scopeId","data-v-e73c30ab"]]);const Me={__name:"App",setup(n){const t=B({}),o=a=>{console.log(a),t.value=a};return(a,s)=>{const e=L("n-config-provider");return i(),y($e,{onLoading:o},{default:v(()=>[t.value.show?(i(),y(Be,{key:0,index:t.value.index,total:t.value.total,name:t.value.name},null,8,["index","total","name"])):$("",!0),m(M,{name:"slide-in-out"},{default:v(()=>[t.value.show?$("",!0):(i(),y(e,{key:0,theme:P(U)},{default:v(()=>[m(ye)]),_:1},8,["theme"]))]),_:1})]),_:1})}}},Ve={class:"home-warp"},Ce={__name:"HomeView",setup(n){const t=V("DB");return console.log(t),(o,a)=>(i(),p("div",Ve))}},qe=H({history:F("/"),routes:[{path:"/",name:"home",component:Ce}]});const Te=j({components:[W,J,K,Q,X,Y,Z,z,ee,te,se,ne,oe,ae,re,ce]}),h=C(Me);h.use(q());h.use(qe);h.use(Te);h.mount("#app");
