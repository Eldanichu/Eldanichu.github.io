import{M as a,N as p,O as k,P as d,L as $,Q as u,R as m,H as L,F as x,r as f,p as A,J as E,S as P,U as v,V as T,W as U,X as g,Y as b,T as I,i as F,Z as O}from"./@vue-6c443430.js";import{c as R}from"./pinia-eed1f81b.js";import{R as C,c as B,a as V}from"./vue-router-d478903e.js";import{d as H,c as q,N as D,a as M,b as j,e as G,f as W,g as J,h as K,i as Q,j as X,k as Y,l as Z,m as z,n as ee,o as te,p as se,q as ne}from"./naive-ui-433eb430.js";import"./seemly-2e71c052.js";import"./evtd-b614532e.js";import"./vooks-bac0419b.js";import"./vdirs-b0483831.js";import"./vueuc-c596a2d4.js";import"./@css-render-8efa2268.js";import"./@juggle-41516555.js";import"./css-render-d3958e6a.js";import"./@emotion-8a8e73f6.js";import"./lodash-es-d880f9ca.js";import"./treemate-25c27bff.js";import"./date-fns-975a2d8f.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(t){if(t.ep)return;t.ep=!0;const s=n(t);fetch(t.href,s)}})();const y=(o,e)=>{const n=o.__vccOpts||o;for(const[i,t]of e)n[i]=t;return n},oe={name:"AppHeader"},ie={class:"app-header"},re=k('<div class="header-wrapper" data-v-8df9455c><nav class="app-navi" data-v-8df9455c><div class="app-title" data-v-8df9455c> Eldan Mir </div><div class="app-pages" data-v-8df9455c></div><div class="app-settings" data-v-8df9455c> Settings </div></nav></div>',1),ae=[re];function ce(o,e,n,i,t,s){return a(),p("header",ie,ae)}const de=y(oe,[["render",ce],["__scopeId","data-v-8df9455c"]]);const ue={},le={class:"app-main"},pe={class:"main-warp"};function _e(o,e){return a(),p("main",le,[d("div",pe,[$(o.$slots,"default",{},void 0,!0)])])}const me=y(ue,[["render",_e],["__scopeId","data-v-744c6ddc"]]),fe={__name:"AppView",setup(o){return(e,n)=>(a(),p(x,null,[u(de),u(me,null,{default:m(()=>[u(L(C))]),_:1})],64))}},he="modulepreload",ve=function(o){return"/"+o},w={},ge=function(e,n,i){if(!n||n.length===0)return e();const t=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=ve(s),s in w)return;w[s]=!0;const r=s.endsWith(".css"),S=r?'[rel="stylesheet"]':"";if(!!i)for(let l=t.length-1;l>=0;l--){const _=t[l];if(_.href===s&&(!r||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${S}`))return;const c=document.createElement("link");if(c.rel=r?"stylesheet":he,r||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),r)return new Promise((l,_)=>{c.addEventListener("load",l),c.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=s,window.dispatchEvent(r),!r.defaultPrevented)throw s})},ye=(o,e)=>{const n=o[e];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((i,t)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(t.bind(null,new Error("Unknown variable dynamic import: "+e)))})},Ne={__name:"GameProvider",emits:["loading"],setup(o,{emit:e}){e("loading",!0);const n=f({});return(async t=>(await ye(Object.assign({"../GameData/Items.yaml":()=>ge(()=>import("./Items-9691c21f.js"),[])}),`../GameData/${t}.yaml`)).default)("Items").then(t=>{n.value=t,setTimeout(()=>{e("loading",!1)},1e4)}),A("game",n),(t,s)=>$(t.$slots,"default")}};const be=o=>(T("data-v-bb161ed6"),o=o(),U(),o),we={class:"loading-warp"},$e={class:"loading-content"},Le={class:"bar"},Pe=be(()=>d("span",{class:"title"},"Loading...",-1)),Se={class:"sub-title"},ke={class:"res-count res"},xe={class:"res-name res"},Ae={__name:"LoadingScreen",setup(o){const e=f(0),n=E({total:5,index:1,name:"物品"});return(i,t)=>{const s=P("n-progress");return a(),p("div",we,[d("div",$e,[d("div",Le,[Pe,u(s,{type:"line",percentage:e.value,height:32,"border-radius":50,"fill-border-radius":0,"indicator-text-color":"#fff"},null,8,["percentage"]),d("div",Se,[d("span",ke,"("+v(n.index)+"/"+v(n.total)+")",1),d("span",xe,"正在加载"+v(n.name)+"数据...",1)])])])])}}},Ee=y(Ae,[["__scopeId","data-v-bb161ed6"]]);const Te={__name:"App",setup(o){const e=f(!0),n=i=>{e.value=i};return(i,t)=>{const s=P("n-config-provider");return a(),g(Ne,{onLoading:n},{default:m(()=>[e.value?(a(),g(Ee,{key:0})):b("",!0),u(I,{name:"slide-in-out"},{default:m(()=>[e.value?b("",!0):(a(),g(s,{key:0,theme:L(H)},{default:m(()=>[u(fe)]),_:1},8,["theme"]))]),_:1})]),_:1})}}};function N(o){this.callback=o,this.running=!1,this.id=-1}N.prototype.start=function(){if(this.running)return;this.running=!0;var o=this;function e(){o.callback(),o.running&&(o.id=requestAnimationFrame(e))}e()};N.prototype.stop=function(){this.running=!1,cancelAnimationFrame(this.id)};class Ue{constructor(e={duration:-1,autostart:!1}){let{duration:n,autostart:i}=e;this._ptime=0,this._elapsed=0,this.duration=n,this.running=!1,this.animation=new N(()=>{this.update()}),this.onUpdate=null,this.onTimeout=null,n>0&&i&&this.start()}update(){if(this.duration===-1&&this.isFunc(this.onUpdate)){this.onUpdate();return}if(this._elapsed=this._ptime*60/1e4,this.duration>=0&&this.duration>=this._elapsed){if(!this.isFunc(this.onUpdate))return;this.onUpdate(this._elapsed)}else{if(!this.isFunc(this.onTimeout)){this.stop();return}this.onTimeout(),this.stop()}this._ptime++}start(){if(this.running){console.log("start timer duplicated.");return}this.animation.start(),this.running=!0}stop(){this._ptime=0,this._elapsed=0,this.animation.stop(),this.resetUpdate(),this.running=!1}resetUpdate(){this.isFunc(this.onUpdate)&&this.onUpdate(0)}pause(){this.animation.stop(),this.running=!1}isRunning(){return this.running}asTime(e=0){return e}isFunc(e){return e&&typeof e=="function"}}const Ie={class:"h-full"},Fe={__name:"HomeView",setup(o){const e=F("game");console.log(e.value);const n=f(0);let i=new Ue({duration:3});return i.onUpdate=t=>{n.value=t},i.onTimeout=()=>{console.log("timeout")},(t,s)=>(a(),p("div",Ie))}},Oe=B({history:V("/"),routes:[{path:"/",name:"home",component:Fe}]});const Re=q({components:[D,M,j,G,W,J,K,Q,X,Y,Z,z,ee,te,se,ne]}),h=O(Te);h.use(R());h.use(Oe);h.use(Re);h.mount("#app");
